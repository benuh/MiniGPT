{"ast":null,"code":"var _jsxFileName = \"/Users/benjaminhu/Desktop/Benjamin/Projects/Github/MiniGPT/frontend/src/pages/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Box, Card, CardContent, Typography, TextField, Button, Avatar, Chip, IconButton, FormControl, InputLabel, Select, MenuItem, Slider, Divider } from '@mui/material';\nimport { Send as SendIcon, SmartToy as BotIcon, Person as UserIcon, Settings as SettingsIcon, Clear as ClearIcon, Download as ExportIcon } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: 1,\n    type: 'bot',\n    content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n    timestamp: new Date().toLocaleTimeString()\n  }]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [selectedModel, setSelectedModel] = useState('MiniGPT-v2');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(150);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const messagesEndRef = useRef(null);\n  const models = ['MiniGPT-v2', 'MiniGPT-v1', 'MiniGPT-base'];\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isGenerating) return;\n    const userMessage = {\n      id: messages.length + 1,\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date().toLocaleTimeString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    const messageToSend = inputMessage;\n    setInputMessage('');\n    setIsGenerating(true);\n    try {\n      // Call the real MiniGPT API\n      const response = await fetch('http://localhost:8000/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: messageToSend,\n          max_length: maxTokens,\n          temperature: temperature,\n          top_k: 50\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      const botMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: data.response,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      console.error('Error calling API:', error);\n      const errorMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: `Sorry, I couldn't process your message. Error: ${error.message}. Make sure the backend is running at http://localhost:8000`,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const clearChat = () => {\n    setMessages([{\n      id: 1,\n      type: 'bot',\n      content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n      timestamp: new Date().toLocaleTimeString()\n    }]);\n  };\n  const exportChat = () => {\n    const chatHistory = messages.map(msg => `[${msg.timestamp}] ${msg.type === 'user' ? 'You' : 'MiniGPT'}: ${msg.content}`).join('\\n');\n    const blob = new Blob([chatHistory], {\n      type: 'text/plain'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `chat-export-${new Date().toISOString().split('T')[0]}.txt`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        fontWeight: \"bold\",\n        children: \"Chat with MiniGPT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        gap: 1,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: exportChat,\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(ExportIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: clearChat,\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      gap: 3,\n      height: \"calc(100vh - 200px)\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        flex: 1,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              flex: 1,\n              display: 'flex',\n              flexDirection: 'column',\n              pb: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              flex: 1,\n              sx: {\n                overflowY: 'auto',\n                mb: 2,\n                pr: 1,\n                '&::-webkit-scrollbar': {\n                  width: '6px'\n                },\n                '&::-webkit-scrollbar-track': {\n                  background: '#f1f1f1',\n                  borderRadius: '3px'\n                },\n                '&::-webkit-scrollbar-thumb': {\n                  background: '#c1c1c1',\n                  borderRadius: '3px'\n                }\n              },\n              children: [messages.map(message => /*#__PURE__*/_jsxDEV(Box, {\n                mb: 2,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  justifyContent: message.type === 'user' ? 'flex-end' : 'flex-start',\n                  alignItems: \"flex-start\",\n                  gap: 1,\n                  children: [message.type === 'bot' && /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      bgcolor: 'primary.main',\n                      width: 32,\n                      height: 32\n                    },\n                    children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      maxWidth: '70%',\n                      bgcolor: message.type === 'user' ? 'primary.main' : 'grey.100',\n                      color: message.type === 'user' ? 'white' : 'text.primary',\n                      p: 2,\n                      borderRadius: 2,\n                      borderTopLeftRadius: message.type === 'bot' ? 0 : 2,\n                      borderTopRightRadius: message.type === 'user' ? 0 : 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      sx: {\n                        mt: 1,\n                        display: 'block',\n                        opacity: 0.7,\n                        fontSize: '0.75rem'\n                      },\n                      children: message.timestamp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this), message.type === 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      bgcolor: 'grey.400',\n                      width: 32,\n                      height: 32\n                    },\n                    children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)\n              }, message.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this)), isGenerating && /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 1,\n                mb: 2,\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    bgcolor: 'primary.main',\n                    width: 32,\n                    height: 32\n                  },\n                  children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    bgcolor: 'grey.100',\n                    p: 2,\n                    borderRadius: 2,\n                    borderTopLeftRadius: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    color: \"text.secondary\",\n                    children: \"Thinking...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              gap: 1,\n              pt: 2,\n              borderTop: 1,\n              borderColor: \"divider\",\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                multiline: true,\n                maxRows: 3,\n                placeholder: \"Type your message...\",\n                value: inputMessage,\n                onChange: e => setInputMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                disabled: isGenerating,\n                variant: \"outlined\",\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                onClick: handleSendMessage,\n                disabled: !inputMessage.trim() || isGenerating,\n                sx: {\n                  minWidth: 'auto',\n                  px: 2\n                },\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        width: 300,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 1,\n              mb: 3,\n              children: [/*#__PURE__*/_jsxDEV(SettingsIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                fontWeight: \"bold\",\n                children: \"Chat Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"Model\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: selectedModel,\n                  label: \"Model\",\n                  onChange: e => setSelectedModel(e.target.value),\n                  children: models.map(model => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: model,\n                    children: model\n                  }, model, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"body2\",\n                children: [\"Temperature: \", temperature]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                value: temperature,\n                onChange: (e, value) => setTemperature(value),\n                min: 0.1,\n                max: 2.0,\n                step: 0.1,\n                size: \"small\",\n                valueLabelDisplay: \"auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"textSecondary\",\n                children: \"Controls randomness in responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"body2\",\n                children: [\"Max Tokens: \", maxTokens]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                value: maxTokens,\n                onChange: (e, value) => setMaxTokens(value),\n                min: 50,\n                max: 500,\n                step: 10,\n                size: \"small\",\n                valueLabelDisplay: \"auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"textSecondary\",\n                children: \"Maximum response length\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                fontWeight: \"bold\",\n                mb: 1,\n                children: \"Current Session\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: \"Messages:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: messages.length,\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: \"Model:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: selectedModel,\n                  size: \"small\",\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: isGenerating ? 'Generating' : 'Ready',\n                  size: \"small\",\n                  color: isGenerating ? 'warning' : 'success'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"QxQs3jor4xYOBht+lJjBtHdGqmY=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","Card","CardContent","Typography","TextField","Button","Avatar","Chip","IconButton","FormControl","InputLabel","Select","MenuItem","Slider","Divider","Send","SendIcon","SmartToy","BotIcon","Person","UserIcon","Settings","SettingsIcon","Clear","ClearIcon","Download","ExportIcon","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","id","type","content","timestamp","Date","toLocaleTimeString","inputMessage","setInputMessage","selectedModel","setSelectedModel","temperature","setTemperature","maxTokens","setMaxTokens","isGenerating","setIsGenerating","messagesEndRef","models","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","length","prev","messageToSend","response","fetch","method","headers","body","JSON","stringify","message","max_length","top_k","ok","Error","status","data","json","botMessage","error","console","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","clearChat","exportChat","chatHistory","map","msg","join","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","click","revokeObjectURL","children","display","justifyContent","alignItems","mb","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","gap","onClick","color","height","flex","sx","flexDirection","pb","overflowY","pr","width","background","borderRadius","bgcolor","fontSize","maxWidth","p","borderTopLeftRadius","borderTopRightRadius","mt","opacity","ref","pt","borderTop","borderColor","fullWidth","multiline","maxRows","placeholder","value","onChange","target","onKeyPress","disabled","size","minWidth","px","label","model","gutterBottom","min","max","step","valueLabelDisplay","my","_c","$RefreshReg$"],"sources":["/Users/benjaminhu/Desktop/Benjamin/Projects/Github/MiniGPT/frontend/src/pages/Chat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Box,\n  Card,\n  CardContent,\n  Typography,\n  TextField,\n  Button,\n  Avatar,\n  Chip,\n  IconButton,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Slider,\n  Divider,\n} from '@mui/material';\nimport {\n  Send as SendIcon,\n  SmartToy as BotIcon,\n  Person as UserIcon,\n  Settings as SettingsIcon,\n  Clear as ClearIcon,\n  Download as ExportIcon,\n} from '@mui/icons-material';\n\nfunction Chat() {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      type: 'bot',\n      content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n      timestamp: new Date().toLocaleTimeString(),\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [selectedModel, setSelectedModel] = useState('MiniGPT-v2');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(150);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  const models = ['MiniGPT-v2', 'MiniGPT-v1', 'MiniGPT-base'];\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isGenerating) return;\n\n    const userMessage = {\n      id: messages.length + 1,\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date().toLocaleTimeString(),\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    const messageToSend = inputMessage;\n    setInputMessage('');\n    setIsGenerating(true);\n\n    try {\n      // Call the real MiniGPT API\n      const response = await fetch('http://localhost:8000/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: messageToSend,\n          max_length: maxTokens,\n          temperature: temperature,\n          top_k: 50,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      const botMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: data.response,\n        timestamp: new Date().toLocaleTimeString(),\n      };\n\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      console.error('Error calling API:', error);\n\n      const errorMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: `Sorry, I couldn't process your message. Error: ${error.message}. Make sure the backend is running at http://localhost:8000`,\n        timestamp: new Date().toLocaleTimeString(),\n      };\n\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const clearChat = () => {\n    setMessages([\n      {\n        id: 1,\n        type: 'bot',\n        content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n        timestamp: new Date().toLocaleTimeString(),\n      }\n    ]);\n  };\n\n  const exportChat = () => {\n    const chatHistory = messages.map(msg =>\n      `[${msg.timestamp}] ${msg.type === 'user' ? 'You' : 'MiniGPT'}: ${msg.content}`\n    ).join('\\n');\n\n    const blob = new Blob([chatHistory], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `chat-export-${new Date().toISOString().split('T')[0]}.txt`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <Box>\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n        <Typography variant=\"h4\" fontWeight=\"bold\">\n          Chat with MiniGPT\n        </Typography>\n        <Box display=\"flex\" gap={1}>\n          <IconButton onClick={exportChat} color=\"primary\">\n            <ExportIcon />\n          </IconButton>\n          <IconButton onClick={clearChat} color=\"primary\">\n            <ClearIcon />\n          </IconButton>\n        </Box>\n      </Box>\n\n      <Box display=\"flex\" gap={3} height=\"calc(100vh - 200px)\">\n        <Box flex={1}>\n          <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n            <CardContent sx={{ flex: 1, display: 'flex', flexDirection: 'column', pb: 0 }}>\n              <Box\n                flex={1}\n                sx={{\n                  overflowY: 'auto',\n                  mb: 2,\n                  pr: 1,\n                  '&::-webkit-scrollbar': {\n                    width: '6px',\n                  },\n                  '&::-webkit-scrollbar-track': {\n                    background: '#f1f1f1',\n                    borderRadius: '3px',\n                  },\n                  '&::-webkit-scrollbar-thumb': {\n                    background: '#c1c1c1',\n                    borderRadius: '3px',\n                  },\n                }}\n              >\n                {messages.map((message) => (\n                  <Box key={message.id} mb={2}>\n                    <Box\n                      display=\"flex\"\n                      justifyContent={message.type === 'user' ? 'flex-end' : 'flex-start'}\n                      alignItems=\"flex-start\"\n                      gap={1}\n                    >\n                      {message.type === 'bot' && (\n                        <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32 }}>\n                          <BotIcon fontSize=\"small\" />\n                        </Avatar>\n                      )}\n                      <Box\n                        sx={{\n                          maxWidth: '70%',\n                          bgcolor: message.type === 'user' ? 'primary.main' : 'grey.100',\n                          color: message.type === 'user' ? 'white' : 'text.primary',\n                          p: 2,\n                          borderRadius: 2,\n                          borderTopLeftRadius: message.type === 'bot' ? 0 : 2,\n                          borderTopRightRadius: message.type === 'user' ? 0 : 2,\n                        }}\n                      >\n                        <Typography variant=\"body1\">{message.content}</Typography>\n                        <Typography\n                          variant=\"caption\"\n                          sx={{\n                            mt: 1,\n                            display: 'block',\n                            opacity: 0.7,\n                            fontSize: '0.75rem',\n                          }}\n                        >\n                          {message.timestamp}\n                        </Typography>\n                      </Box>\n                      {message.type === 'user' && (\n                        <Avatar sx={{ bgcolor: 'grey.400', width: 32, height: 32 }}>\n                          <UserIcon fontSize=\"small\" />\n                        </Avatar>\n                      )}\n                    </Box>\n                  </Box>\n                ))}\n                {isGenerating && (\n                  <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\n                    <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32 }}>\n                      <BotIcon fontSize=\"small\" />\n                    </Avatar>\n                    <Box\n                      sx={{\n                        bgcolor: 'grey.100',\n                        p: 2,\n                        borderRadius: 2,\n                        borderTopLeftRadius: 0,\n                      }}\n                    >\n                      <Typography variant=\"body1\" color=\"text.secondary\">\n                        Thinking...\n                      </Typography>\n                    </Box>\n                  </Box>\n                )}\n                <div ref={messagesEndRef} />\n              </Box>\n\n              <Box display=\"flex\" gap={1} pt={2} borderTop={1} borderColor=\"divider\">\n                <TextField\n                  fullWidth\n                  multiline\n                  maxRows={3}\n                  placeholder=\"Type your message...\"\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  disabled={isGenerating}\n                  variant=\"outlined\"\n                  size=\"small\"\n                />\n                <Button\n                  variant=\"contained\"\n                  onClick={handleSendMessage}\n                  disabled={!inputMessage.trim() || isGenerating}\n                  sx={{ minWidth: 'auto', px: 2 }}\n                >\n                  <SendIcon />\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </Box>\n\n        <Box width={300}>\n          <Card>\n            <CardContent>\n              <Box display=\"flex\" alignItems=\"center\" gap={1} mb={3}>\n                <SettingsIcon color=\"primary\" />\n                <Typography variant=\"h6\" fontWeight=\"bold\">\n                  Chat Settings\n                </Typography>\n              </Box>\n\n              <Box mb={3}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>Model</InputLabel>\n                  <Select\n                    value={selectedModel}\n                    label=\"Model\"\n                    onChange={(e) => setSelectedModel(e.target.value)}\n                  >\n                    {models.map((model) => (\n                      <MenuItem key={model} value={model}>\n                        {model}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Box>\n\n              <Box mb={3}>\n                <Typography gutterBottom variant=\"body2\">\n                  Temperature: {temperature}\n                </Typography>\n                <Slider\n                  value={temperature}\n                  onChange={(e, value) => setTemperature(value)}\n                  min={0.1}\n                  max={2.0}\n                  step={0.1}\n                  size=\"small\"\n                  valueLabelDisplay=\"auto\"\n                />\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  Controls randomness in responses\n                </Typography>\n              </Box>\n\n              <Box mb={3}>\n                <Typography gutterBottom variant=\"body2\">\n                  Max Tokens: {maxTokens}\n                </Typography>\n                <Slider\n                  value={maxTokens}\n                  onChange={(e, value) => setMaxTokens(value)}\n                  min={50}\n                  max={500}\n                  step={10}\n                  size=\"small\"\n                  valueLabelDisplay=\"auto\"\n                />\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  Maximum response length\n                </Typography>\n              </Box>\n\n              <Divider sx={{ my: 2 }} />\n\n              <Box>\n                <Typography variant=\"body2\" fontWeight=\"bold\" mb={1}>\n                  Current Session\n                </Typography>\n                <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n                  <Typography variant=\"caption\" color=\"textSecondary\">\n                    Messages:\n                  </Typography>\n                  <Chip label={messages.length} size=\"small\" />\n                </Box>\n                <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n                  <Typography variant=\"caption\" color=\"textSecondary\">\n                    Model:\n                  </Typography>\n                  <Chip label={selectedModel} size=\"small\" color=\"primary\" />\n                </Box>\n                <Box display=\"flex\" justifyContent=\"space-between\">\n                  <Typography variant=\"caption\" color=\"textSecondary\">\n                    Status:\n                  </Typography>\n                  <Chip\n                    label={isGenerating ? 'Generating' : 'Ready'}\n                    size=\"small\"\n                    color={isGenerating ? 'warning' : 'success'}\n                  />\n                </Box>\n              </Box>\n            </CardContent>\n          </Card>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}