{"ast":null,"code":"var _jsxFileName = \"/Users/benjaminhu/Desktop/Benjamin/Projects/Github/MiniGPT/frontend/src/pages/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Box, Card, CardContent, Typography, TextField, Button, Avatar, Chip, IconButton, FormControl, InputLabel, Select, MenuItem, Slider, Divider } from '@mui/material';\nimport { Send as SendIcon, SmartToy as BotIcon, Person as UserIcon, Settings as SettingsIcon, Clear as ClearIcon, Download as ExportIcon } from '@mui/icons-material';\nimport MLTermDialog from '../components/MLTermDialog';\nimport MLTermTooltip from '../components/MLTermTooltip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: 1,\n    type: 'bot',\n    content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n    timestamp: new Date().toLocaleTimeString()\n  }]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [selectedModel, setSelectedModel] = useState('MiniGPT-v2');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(150);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [helpDialog, setHelpDialog] = useState({\n    open: false,\n    termKey: null\n  });\n  const messagesEndRef = useRef(null);\n  const models = ['MiniGPT-v2', 'MiniGPT-v1', 'MiniGPT-base'];\n  const handleLearnMore = termKey => {\n    setHelpDialog({\n      open: true,\n      termKey\n    });\n  };\n  const handleCloseHelp = () => {\n    setHelpDialog({\n      open: false,\n      termKey: null\n    });\n  };\n  const handleTermClick = termKey => {\n    setHelpDialog({\n      open: true,\n      termKey\n    });\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isGenerating) return;\n    const userMessage = {\n      id: messages.length + 1,\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date().toLocaleTimeString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    const messageToSend = inputMessage;\n    setInputMessage('');\n    setIsGenerating(true);\n    try {\n      console.log('ðŸ”µ Sending chat request:', {\n        message: messageToSend,\n        max_length: maxTokens,\n        temperature: temperature,\n        top_k: 50\n      });\n\n      // Call the real MiniGPT API\n      const response = await fetch('http://localhost:8000/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: messageToSend,\n          max_length: maxTokens,\n          temperature: temperature,\n          top_k: 50\n        })\n      });\n      console.log('ðŸ”µ Response status:', response.status, response.statusText);\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('âŒ API Error:', {\n          status: response.status,\n          statusText: response.statusText,\n          detail: errorData.detail || 'Unknown error'\n        });\n        throw new Error(`API Error (${response.status}): ${errorData.detail || response.statusText}`);\n      }\n      const data = await response.json();\n      console.log('âœ… API Response:', data);\n      const botMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: data.response,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      console.error('âŒ Frontend Error:', error);\n      let errorMessage = '';\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\n        errorMessage = `ðŸ”Œ Connection Error: Cannot reach backend at http://localhost:8000\\n\\nDebugging steps:\\n1. Is the backend running? Check the backend terminal\\n2. Is it on port 8000? Look for \"Uvicorn running on http://0.0.0.0:8000\"\\n3. Try opening http://localhost:8000 in your browser`;\n      } else if (error.message.includes('503')) {\n        errorMessage = `ðŸ¤– Model Not Ready: ${error.message}\\n\\nDebugging steps:\\n1. Train a model first: cd backend && python -m minigpt.train\\n2. Or check if model loading failed in backend logs`;\n      } else if (error.message.includes('500')) {\n        errorMessage = `ðŸ’¥ Server Error: ${error.message}\\n\\nCheck the backend terminal for detailed error logs and stack trace.`;\n      } else {\n        errorMessage = `âŒ Unexpected Error: ${error.message}\\n\\nFull error: ${JSON.stringify(error, Object.getOwnPropertyNames(error), 2)}`;\n      }\n      const errorBotMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: errorMessage,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, errorBotMessage]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const clearChat = () => {\n    setMessages([{\n      id: 1,\n      type: 'bot',\n      content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n      timestamp: new Date().toLocaleTimeString()\n    }]);\n  };\n  const exportChat = () => {\n    const chatHistory = messages.map(msg => `[${msg.timestamp}] ${msg.type === 'user' ? 'You' : 'MiniGPT'}: ${msg.content}`).join('\\n');\n    const blob = new Blob([chatHistory], {\n      type: 'text/plain'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `chat-export-${new Date().toISOString().split('T')[0]}.txt`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        fontWeight: \"bold\",\n        children: \"Chat with MiniGPT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        gap: 1,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: exportChat,\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(ExportIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: clearChat,\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      gap: 3,\n      height: \"calc(100vh - 200px)\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        flex: 1,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              flex: 1,\n              display: 'flex',\n              flexDirection: 'column',\n              pb: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              flex: 1,\n              sx: {\n                overflowY: 'auto',\n                mb: 2,\n                pr: 1,\n                '&::-webkit-scrollbar': {\n                  width: '6px'\n                },\n                '&::-webkit-scrollbar-track': {\n                  background: '#f1f1f1',\n                  borderRadius: '3px'\n                },\n                '&::-webkit-scrollbar-thumb': {\n                  background: '#c1c1c1',\n                  borderRadius: '3px'\n                }\n              },\n              children: [messages.map(message => /*#__PURE__*/_jsxDEV(Box, {\n                mb: 2,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  justifyContent: message.type === 'user' ? 'flex-end' : 'flex-start',\n                  alignItems: \"flex-start\",\n                  gap: 1,\n                  children: [message.type === 'bot' && /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      bgcolor: 'primary.main',\n                      width: 32,\n                      height: 32\n                    },\n                    children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      maxWidth: '70%',\n                      bgcolor: message.type === 'user' ? 'primary.main' : 'grey.100',\n                      color: message.type === 'user' ? 'white' : 'text.primary',\n                      p: 2,\n                      borderRadius: 2,\n                      borderTopLeftRadius: message.type === 'bot' ? 0 : 2,\n                      borderTopRightRadius: message.type === 'user' ? 0 : 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      sx: {\n                        mt: 1,\n                        display: 'block',\n                        opacity: 0.7,\n                        fontSize: '0.75rem'\n                      },\n                      children: message.timestamp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 23\n                  }, this), message.type === 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      bgcolor: 'grey.400',\n                      width: 32,\n                      height: 32\n                    },\n                    children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this)\n              }, message.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)), isGenerating && /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 1,\n                mb: 2,\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    bgcolor: 'primary.main',\n                    width: 32,\n                    height: 32\n                  },\n                  children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    bgcolor: 'grey.100',\n                    p: 2,\n                    borderRadius: 2,\n                    borderTopLeftRadius: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    color: \"text.secondary\",\n                    children: \"Thinking...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              gap: 1,\n              pt: 2,\n              borderTop: 1,\n              borderColor: \"divider\",\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                multiline: true,\n                maxRows: 3,\n                placeholder: \"Type your message...\",\n                value: inputMessage,\n                onChange: e => setInputMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                disabled: isGenerating,\n                variant: \"outlined\",\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                onClick: handleSendMessage,\n                disabled: !inputMessage.trim() || isGenerating,\n                sx: {\n                  minWidth: 'auto',\n                  px: 2\n                },\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        width: 300,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 1,\n              mb: 3,\n              children: [/*#__PURE__*/_jsxDEV(SettingsIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                fontWeight: \"bold\",\n                children: \"Chat Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"Model\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: selectedModel,\n                  label: \"Model\",\n                  onChange: e => setSelectedModel(e.target.value),\n                  children: models.map(model => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: model,\n                    children: model\n                  }, model, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 1,\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"body2\",\n                  children: [\"Temperature: \", temperature]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MLTermTooltip, {\n                  termKey: \"temperature\",\n                  onLearnMore: handleLearnMore,\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                value: temperature,\n                onChange: (e, value) => setTemperature(value),\n                min: 0.1,\n                max: 2.0,\n                step: 0.1,\n                size: \"small\",\n                valueLabelDisplay: \"auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"textSecondary\",\n                children: \"Controls randomness in responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 1,\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"body2\",\n                  children: [\"Max Tokens: \", maxTokens]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MLTermTooltip, {\n                  termKey: \"max_tokens\",\n                  onLearnMore: handleLearnMore,\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                value: maxTokens,\n                onChange: (e, value) => setMaxTokens(value),\n                min: 50,\n                max: 500,\n                step: 10,\n                size: \"small\",\n                valueLabelDisplay: \"auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"textSecondary\",\n                children: \"Maximum response length\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                fontWeight: \"bold\",\n                mb: 1,\n                children: \"Current Session\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: \"Messages:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: messages.length,\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: \"Model:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: selectedModel,\n                  size: \"small\",\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: isGenerating ? 'Generating' : 'Ready',\n                  size: \"small\",\n                  color: isGenerating ? 'warning' : 'success'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MLTermDialog, {\n      termKey: helpDialog.termKey,\n      open: helpDialog.open,\n      onClose: handleCloseHelp,\n      onTermClick: handleTermClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"AuDdZTIG9AYndmODMLK2iy8L1uo=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","Card","CardContent","Typography","TextField","Button","Avatar","Chip","IconButton","FormControl","InputLabel","Select","MenuItem","Slider","Divider","Send","SendIcon","SmartToy","BotIcon","Person","UserIcon","Settings","SettingsIcon","Clear","ClearIcon","Download","ExportIcon","MLTermDialog","MLTermTooltip","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","id","type","content","timestamp","Date","toLocaleTimeString","inputMessage","setInputMessage","selectedModel","setSelectedModel","temperature","setTemperature","maxTokens","setMaxTokens","isGenerating","setIsGenerating","helpDialog","setHelpDialog","open","termKey","messagesEndRef","models","handleLearnMore","handleCloseHelp","handleTermClick","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","length","prev","messageToSend","console","log","message","max_length","top_k","response","fetch","method","headers","body","JSON","stringify","status","statusText","ok","errorData","json","catch","error","detail","Error","data","botMessage","errorMessage","name","includes","Object","getOwnPropertyNames","errorBotMessage","handleKeyPress","e","key","shiftKey","preventDefault","clearChat","exportChat","chatHistory","map","msg","join","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","click","revokeObjectURL","children","display","justifyContent","alignItems","mb","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","gap","onClick","color","height","flex","sx","flexDirection","pb","overflowY","pr","width","background","borderRadius","bgcolor","fontSize","maxWidth","p","borderTopLeftRadius","borderTopRightRadius","mt","opacity","ref","pt","borderTop","borderColor","fullWidth","multiline","maxRows","placeholder","value","onChange","target","onKeyPress","disabled","size","minWidth","px","label","model","gutterBottom","onLearnMore","min","max","step","valueLabelDisplay","my","onClose","onTermClick","_c","$RefreshReg$"],"sources":["/Users/benjaminhu/Desktop/Benjamin/Projects/Github/MiniGPT/frontend/src/pages/Chat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Box,\n  Card,\n  CardContent,\n  Typography,\n  TextField,\n  Button,\n  Avatar,\n  Chip,\n  IconButton,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Slider,\n  Divider,\n} from '@mui/material';\nimport {\n  Send as SendIcon,\n  SmartToy as BotIcon,\n  Person as UserIcon,\n  Settings as SettingsIcon,\n  Clear as ClearIcon,\n  Download as ExportIcon,\n} from '@mui/icons-material';\nimport MLTermDialog from '../components/MLTermDialog';\nimport MLTermTooltip from '../components/MLTermTooltip';\n\nfunction Chat() {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      type: 'bot',\n      content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n      timestamp: new Date().toLocaleTimeString(),\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [selectedModel, setSelectedModel] = useState('MiniGPT-v2');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(150);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [helpDialog, setHelpDialog] = useState({ open: false, termKey: null });\n  const messagesEndRef = useRef(null);\n\n  const models = ['MiniGPT-v2', 'MiniGPT-v1', 'MiniGPT-base'];\n\n  const handleLearnMore = (termKey) => {\n    setHelpDialog({ open: true, termKey });\n  };\n\n  const handleCloseHelp = () => {\n    setHelpDialog({ open: false, termKey: null });\n  };\n\n  const handleTermClick = (termKey) => {\n    setHelpDialog({ open: true, termKey });\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isGenerating) return;\n\n    const userMessage = {\n      id: messages.length + 1,\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date().toLocaleTimeString(),\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    const messageToSend = inputMessage;\n    setInputMessage('');\n    setIsGenerating(true);\n\n    try {\n      console.log('ðŸ”µ Sending chat request:', {\n        message: messageToSend,\n        max_length: maxTokens,\n        temperature: temperature,\n        top_k: 50,\n      });\n\n      // Call the real MiniGPT API\n      const response = await fetch('http://localhost:8000/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: messageToSend,\n          max_length: maxTokens,\n          temperature: temperature,\n          top_k: 50,\n        }),\n      });\n\n      console.log('ðŸ”µ Response status:', response.status, response.statusText);\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('âŒ API Error:', {\n          status: response.status,\n          statusText: response.statusText,\n          detail: errorData.detail || 'Unknown error'\n        });\n\n        throw new Error(`API Error (${response.status}): ${errorData.detail || response.statusText}`);\n      }\n\n      const data = await response.json();\n      console.log('âœ… API Response:', data);\n\n      const botMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: data.response,\n        timestamp: new Date().toLocaleTimeString(),\n      };\n\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      console.error('âŒ Frontend Error:', error);\n\n      let errorMessage = '';\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\n        errorMessage = `ðŸ”Œ Connection Error: Cannot reach backend at http://localhost:8000\\n\\nDebugging steps:\\n1. Is the backend running? Check the backend terminal\\n2. Is it on port 8000? Look for \"Uvicorn running on http://0.0.0.0:8000\"\\n3. Try opening http://localhost:8000 in your browser`;\n      } else if (error.message.includes('503')) {\n        errorMessage = `ðŸ¤– Model Not Ready: ${error.message}\\n\\nDebugging steps:\\n1. Train a model first: cd backend && python -m minigpt.train\\n2. Or check if model loading failed in backend logs`;\n      } else if (error.message.includes('500')) {\n        errorMessage = `ðŸ’¥ Server Error: ${error.message}\\n\\nCheck the backend terminal for detailed error logs and stack trace.`;\n      } else {\n        errorMessage = `âŒ Unexpected Error: ${error.message}\\n\\nFull error: ${JSON.stringify(error, Object.getOwnPropertyNames(error), 2)}`;\n      }\n\n      const errorBotMessage = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: errorMessage,\n        timestamp: new Date().toLocaleTimeString(),\n      };\n\n      setMessages(prev => [...prev, errorBotMessage]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const clearChat = () => {\n    setMessages([\n      {\n        id: 1,\n        type: 'bot',\n        content: 'Hello! I\\'m MiniGPT. How can I help you today?',\n        timestamp: new Date().toLocaleTimeString(),\n      }\n    ]);\n  };\n\n  const exportChat = () => {\n    const chatHistory = messages.map(msg =>\n      `[${msg.timestamp}] ${msg.type === 'user' ? 'You' : 'MiniGPT'}: ${msg.content}`\n    ).join('\\n');\n\n    const blob = new Blob([chatHistory], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `chat-export-${new Date().toISOString().split('T')[0]}.txt`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <Box>\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n        <Typography variant=\"h4\" fontWeight=\"bold\">\n          Chat with MiniGPT\n        </Typography>\n        <Box display=\"flex\" gap={1}>\n          <IconButton onClick={exportChat} color=\"primary\">\n            <ExportIcon />\n          </IconButton>\n          <IconButton onClick={clearChat} color=\"primary\">\n            <ClearIcon />\n          </IconButton>\n        </Box>\n      </Box>\n\n      <Box display=\"flex\" gap={3} height=\"calc(100vh - 200px)\">\n        <Box flex={1}>\n          <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n            <CardContent sx={{ flex: 1, display: 'flex', flexDirection: 'column', pb: 0 }}>\n              <Box\n                flex={1}\n                sx={{\n                  overflowY: 'auto',\n                  mb: 2,\n                  pr: 1,\n                  '&::-webkit-scrollbar': {\n                    width: '6px',\n                  },\n                  '&::-webkit-scrollbar-track': {\n                    background: '#f1f1f1',\n                    borderRadius: '3px',\n                  },\n                  '&::-webkit-scrollbar-thumb': {\n                    background: '#c1c1c1',\n                    borderRadius: '3px',\n                  },\n                }}\n              >\n                {messages.map((message) => (\n                  <Box key={message.id} mb={2}>\n                    <Box\n                      display=\"flex\"\n                      justifyContent={message.type === 'user' ? 'flex-end' : 'flex-start'}\n                      alignItems=\"flex-start\"\n                      gap={1}\n                    >\n                      {message.type === 'bot' && (\n                        <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32 }}>\n                          <BotIcon fontSize=\"small\" />\n                        </Avatar>\n                      )}\n                      <Box\n                        sx={{\n                          maxWidth: '70%',\n                          bgcolor: message.type === 'user' ? 'primary.main' : 'grey.100',\n                          color: message.type === 'user' ? 'white' : 'text.primary',\n                          p: 2,\n                          borderRadius: 2,\n                          borderTopLeftRadius: message.type === 'bot' ? 0 : 2,\n                          borderTopRightRadius: message.type === 'user' ? 0 : 2,\n                        }}\n                      >\n                        <Typography variant=\"body1\">{message.content}</Typography>\n                        <Typography\n                          variant=\"caption\"\n                          sx={{\n                            mt: 1,\n                            display: 'block',\n                            opacity: 0.7,\n                            fontSize: '0.75rem',\n                          }}\n                        >\n                          {message.timestamp}\n                        </Typography>\n                      </Box>\n                      {message.type === 'user' && (\n                        <Avatar sx={{ bgcolor: 'grey.400', width: 32, height: 32 }}>\n                          <UserIcon fontSize=\"small\" />\n                        </Avatar>\n                      )}\n                    </Box>\n                  </Box>\n                ))}\n                {isGenerating && (\n                  <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\n                    <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32 }}>\n                      <BotIcon fontSize=\"small\" />\n                    </Avatar>\n                    <Box\n                      sx={{\n                        bgcolor: 'grey.100',\n                        p: 2,\n                        borderRadius: 2,\n                        borderTopLeftRadius: 0,\n                      }}\n                    >\n                      <Typography variant=\"body1\" color=\"text.secondary\">\n                        Thinking...\n                      </Typography>\n                    </Box>\n                  </Box>\n                )}\n                <div ref={messagesEndRef} />\n              </Box>\n\n              <Box display=\"flex\" gap={1} pt={2} borderTop={1} borderColor=\"divider\">\n                <TextField\n                  fullWidth\n                  multiline\n                  maxRows={3}\n                  placeholder=\"Type your message...\"\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  disabled={isGenerating}\n                  variant=\"outlined\"\n                  size=\"small\"\n                />\n                <Button\n                  variant=\"contained\"\n                  onClick={handleSendMessage}\n                  disabled={!inputMessage.trim() || isGenerating}\n                  sx={{ minWidth: 'auto', px: 2 }}\n                >\n                  <SendIcon />\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </Box>\n\n        <Box width={300}>\n          <Card>\n            <CardContent>\n              <Box display=\"flex\" alignItems=\"center\" gap={1} mb={3}>\n                <SettingsIcon color=\"primary\" />\n                <Typography variant=\"h6\" fontWeight=\"bold\">\n                  Chat Settings\n                </Typography>\n              </Box>\n\n              <Box mb={3}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>Model</InputLabel>\n                  <Select\n                    value={selectedModel}\n                    label=\"Model\"\n                    onChange={(e) => setSelectedModel(e.target.value)}\n                  >\n                    {models.map((model) => (\n                      <MenuItem key={model} value={model}>\n                        {model}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Box>\n\n              <Box mb={3}>\n                <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\n                  <Typography gutterBottom variant=\"body2\">\n                    Temperature: {temperature}\n                  </Typography>\n                  <MLTermTooltip\n                    termKey=\"temperature\"\n                    onLearnMore={handleLearnMore}\n                    size=\"small\"\n                  />\n                </Box>\n                <Slider\n                  value={temperature}\n                  onChange={(e, value) => setTemperature(value)}\n                  min={0.1}\n                  max={2.0}\n                  step={0.1}\n                  size=\"small\"\n                  valueLabelDisplay=\"auto\"\n                />\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  Controls randomness in responses\n                </Typography>\n              </Box>\n\n              <Box mb={3}>\n                <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\n                  <Typography gutterBottom variant=\"body2\">\n                    Max Tokens: {maxTokens}\n                  </Typography>\n                  <MLTermTooltip\n                    termKey=\"max_tokens\"\n                    onLearnMore={handleLearnMore}\n                    size=\"small\"\n                  />\n                </Box>\n                <Slider\n                  value={maxTokens}\n                  onChange={(e, value) => setMaxTokens(value)}\n                  min={50}\n                  max={500}\n                  step={10}\n                  size=\"small\"\n                  valueLabelDisplay=\"auto\"\n                />\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  Maximum response length\n                </Typography>\n              </Box>\n\n              <Divider sx={{ my: 2 }} />\n\n              <Box>\n                <Typography variant=\"body2\" fontWeight=\"bold\" mb={1}>\n                  Current Session\n                </Typography>\n                <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n                  <Typography variant=\"caption\" color=\"textSecondary\">\n                    Messages:\n                  </Typography>\n                  <Chip label={messages.length} size=\"small\" />\n                </Box>\n                <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n                  <Typography variant=\"caption\" color=\"textSecondary\">\n                    Model:\n                  </Typography>\n                  <Chip label={selectedModel} size=\"small\" color=\"primary\" />\n                </Box>\n                <Box display=\"flex\" justifyContent=\"space-between\">\n                  <Typography variant=\"caption\" color=\"textSecondary\">\n                    Status:\n                  </Typography>\n                  <Chip\n                    label={isGenerating ? 'Generating' : 'Ready'}\n                    size=\"small\"\n                    color={isGenerating ? 'warning' : 'success'}\n                  />\n                </Box>\n              </Box>\n            </CardContent>\n          </Card>\n        </Box>\n      </Box>\n\n      {/* ML Terms Help Dialog */}\n      <MLTermDialog\n        termKey={helpDialog.termKey}\n        open={helpDialog.open}\n        onClose={handleCloseHelp}\n        onTermClick={handleTermClick}\n      />\n    </Box>\n  );\n}\n\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}